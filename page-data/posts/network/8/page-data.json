{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/network/8","result":{"data":{"markdownRemark":{"id":"3b94d580-8aba-5bc8-ad17-f996325fbd7a","html":"<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d8babaec9eed37020b595e76432c52eb/6ac4e/network.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABRNAAAUTQGUyo0vAAABMElEQVQoz32TjarCMAyF+/6v5hM4BNlgOvev+9+YkS/QEu6dBkLTLjk9OemcHNj7/Q7ruq5h/y3PmuPwyDHAuq6T5/Op+7Is5Xq9SpZlMs9zALXATn4YRff7XX3fdymKQgFZx3H8B8jqtm3TQu8wIhkArGkadc+YuKoqeb1eh+072rE6pWkqeZ4HQM8SVuTWdS193+sZ+2VZtD4wfDweeluSJLoCSMEwDOoAchZFkRZbQ0vquCQA0t40TdoGAHEcayHnODEXUARzWJHP5eyRzLatU6a9tm3Fg3sZrAEMKIxut1tg9XcwYcqIDRhsALe62GcBMDKQjxRe68DQTxd2rADaKdsn4WO+0TL68zaJPQHHR+uWjQU7Ykt8Op3kcrmEx+++/VK/wOwfdT6flaXv6AOmyais4v4KIAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/d8babaec9eed37020b595e76432c52eb/8ac56/network.webp 240w,\n/static/d8babaec9eed37020b595e76432c52eb/d3be9/network.webp 480w,\n/static/d8babaec9eed37020b595e76432c52eb/e46b2/network.webp 960w,\n/static/d8babaec9eed37020b595e76432c52eb/f992d/network.webp 1440w,\n/static/d8babaec9eed37020b595e76432c52eb/882b9/network.webp 1920w,\n/static/d8babaec9eed37020b595e76432c52eb/2cdf4/network.webp 3824w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/d8babaec9eed37020b595e76432c52eb/8ff5a/network.png 240w,\n/static/d8babaec9eed37020b595e76432c52eb/e85cb/network.png 480w,\n/static/d8babaec9eed37020b595e76432c52eb/d9199/network.png 960w,\n/static/d8babaec9eed37020b595e76432c52eb/07a9c/network.png 1440w,\n/static/d8babaec9eed37020b595e76432c52eb/29114/network.png 1920w,\n/static/d8babaec9eed37020b595e76432c52eb/6ac4e/network.png 3824w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/d8babaec9eed37020b595e76432c52eb/d9199/network.png\"\n          alt=\"network\"\n          title=\"network\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<ol>\n<li>일단 사용자로써 당당하게 <code class=\"language-text\">www.naver.com</code>을 브라우저에서 입력합니다.</li>\n<li>구성에 따라 다를 수 있지만 직접 생성한 로컬망의 캐시된 dns를 이용할수 있습니다.</li>\n<li>로컬에 정보가 TTL이 다해 없다면 더 많은 정보가있는 DNS를 찾아 떠나는데 우리나라에선 보통 ISP중 하나의 업체가 가지고 있는 네임서버로 갈수 있습니다. 그림에선 KT로 표시했습니다. 여기까지 DNS질의 방식을 비재귀적 질의라고 합니다.</li>\n<li>이렇게 ISP DNS캐시 서버에도 없다면 루트로 질의를 던지게 됩니다. 전세계에 몇대정도 지정되어있는 뭔가 대단한 DNS서버(ROOT)로 물어보고 비재귀적 질의로 ip주소를 찾아내며 로컬 DNS에 캐시로 저장하고 클라이언트가 사용하게 됩니다.</li>\n<li>이제 주소를 알게 되었으니 내 위치와 함께 요청을 보내야하는데 우리를 알릴 공인 IP의 개수는 부족하다. IPv4를 처음 고안해낼때만해도 이정도로 디바이스들이 많아질거라 예상하지 못했고 32bit로 만들수 있는 수는 제한적이다. 그래서 IPv6도 나왔지만 우리나라에선 아직 많이사용되지 못한다고 한다. (중국은 거의 처음 시작할때부터 IPv6라 잘쓰고있다던..) 그래서 공인 IP를 효과적으로 관리하기위해 DHCP라는 IP를 유동적으로 관리하는 프로토콜을 이용해 IP를 고정이 아닌 돌아가면서 사용중에 있습니다. 이렇게 나를 표시할 공인 IP를 할당 받습니다.</li>\n<li>이제 TCP/IP로 통신할 준비가 되었고 L3장비들을 통해 네이버 서버가 있는 위치까지 요청을 넣고 이를 받은 네이버는 요청에 맞는 naver페이지관련된 정보들을 response해줍니다.</li>\n<li>그리고 해당 요청을 받은 우리의 브라우저는 네이버를 그려줍니다.</li>\n</ol>\n<h5 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h5>\n<ul>\n<li><a href=\"https://github.com/WooVictory/Ready-For-Tech-Interview/blob/master/Network/%EC%A3%BC%EC%86%8C%EC%B0%BD%EC%97%90%20naver.com%EC%9D%84%20%EC%B9%98%EB%A9%B4%20%EC%9D%BC%EC%96%B4%EB%82%98%EB%8A%94%20%EC%9D%BC.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">repo</a></li>\n<li><a href=\"https://dar0m.tistory.com/260?category=976686\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">재귀/비재귀</a></li>\n<li><a href=\"https://hihighlinux.tistory.com/49\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">로컬 DNS구축</a></li>\n<li><a href=\"https://extrememanual.net/8698\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">DHCP</a></li>\n</ul>","fields":{"slug":"/posts/network/8","tagSlugs":["/tag/network/"]},"frontmatter":{"date":"2021-08-27T00:00:00","description":"naver에 요청을 넣어 원하는 데이터를 받아오기 까지를 이해해봅니다.","tags":["network"],"title":"웹 통신의 흐름(naver.com치면 일어나는 일)","socialImage":{"publicURL":"/static/624cc4a835e68430a8beec01cef8ac6c/photo.jpg"}}}},"pageContext":{"slug":"/posts/network/8"}},"staticQueryHashes":["251939775","401334301","825871152"]}