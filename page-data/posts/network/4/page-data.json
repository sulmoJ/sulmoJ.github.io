{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/network/4","result":{"data":{"markdownRemark":{"id":"1c5060e9-848f-58ea-8b80-62984fb77d31","html":"<h2 id=\"로드-밸런싱\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%8B%B1\" aria-label=\"로드 밸런싱 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로드 밸런싱</h2>\n<blockquote>\n<p>둘 이상의 CPU 또는 저장장치와 같은 컴퓨터자원에게 작업을 나누는 것</p>\n</blockquote>\n<p>분산식 웹 서비스로 여러서버의 부하를 나눠주는 역할을 한다. 로드 밸런서를 클라이언트와 서버사이에 두고, 들어오는 요청을 여러 서버에 분산시켜준다.</p>\n<p>완전한 확장성과 중복성을 활용하기 위해 시스템의 각 계층에서 부하의 균형을 맞출 수 있다.</p>\n<p>로드밸런서가 위치할 수 있는 위치</p>\n<ul>\n<li>client 와 웹 서버 사이</li>\n<li>웹 서버와 애플리케이션 서버 또는 캐시 서버와 같은 application 서버 사이</li>\n<li>application 서버와 데이터베이스 사이</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/40a7e74209fd488b4ea5aa726e8a7ba6/da952/load_balancer.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.083333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA0klEQVQI1x2OXUvCUABA97/7G/XgQ/QkVlAEJaNg9uEKlleD4WiC2CaG1zlhd36srrs75c7jeTnH2uk9xd6wyRWL2Re7n4J3u0v75JJ59I3aKGZyisoUF8e3NI5a2M1HDiTLFXOZYIzBdV2CIMA69SY445S1jJg4ZyRpit/t83blsJhK+p8ed6LFUqbcnz9z03jg1RZstzlub8iLGLHOMwaDD+I4xip0iS6rulj9lwwVUTDG7/RQq6z2pjLoX43o+Dxdewy9Ue3L0tR3B4QQhGHIH1KK15YSh61eAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/40a7e74209fd488b4ea5aa726e8a7ba6/8ac56/load_balancer.webp 240w,\n/static/40a7e74209fd488b4ea5aa726e8a7ba6/d3be9/load_balancer.webp 480w,\n/static/40a7e74209fd488b4ea5aa726e8a7ba6/e46b2/load_balancer.webp 960w,\n/static/40a7e74209fd488b4ea5aa726e8a7ba6/f992d/load_balancer.webp 1440w,\n/static/40a7e74209fd488b4ea5aa726e8a7ba6/395d6/load_balancer.webp 1872w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/40a7e74209fd488b4ea5aa726e8a7ba6/8ff5a/load_balancer.png 240w,\n/static/40a7e74209fd488b4ea5aa726e8a7ba6/e85cb/load_balancer.png 480w,\n/static/40a7e74209fd488b4ea5aa726e8a7ba6/d9199/load_balancer.png 960w,\n/static/40a7e74209fd488b4ea5aa726e8a7ba6/07a9c/load_balancer.png 1440w,\n/static/40a7e74209fd488b4ea5aa726e8a7ba6/da952/load_balancer.png 1872w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/40a7e74209fd488b4ea5aa726e8a7ba6/d9199/load_balancer.png\"\n          alt=\"loadbalancer\"\n          title=\"loadbalancer\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<h3 id=\"로드밸런싱-알고리즘\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\" aria-label=\"로드밸런싱 알고리즘 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로드밸런싱 알고리즘</h3>\n<h4 id=\"health-check\" style=\"position:relative;\"><a href=\"#health-check\" aria-label=\"health check permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Health check</h4>\n<p>로드 밸런서는 상태가 온전한 백엔드 서버에게 트래픽을 전달해야 합니다. 이러한 상태를 모니터링하기 위해 정기적으로 백엔드 서버에 요청을 넣어 수신을 확인합니다. 응답에 실패하면 가용 서버 범위에서 제거하고 상태가 확인될 때까지 트래픽을 전달하지 않습니다.</p>\n<p>이러한 처리를 위한 여러가지 로드밸런싱을 위한 알고리즘이 있습니다.</p>\n<ul>\n<li>Least Connection : 가장 적게 연결되어있는 서버로 트래픽을 보내며, 고르지않게 지속적으로 접속하는 클라이언트가 있을때 좋습니다.</li>\n<li>Least Response Time : 활성 연결이 가장 적고, 평균 응답시간이 가장 낮은 서버로 트래픽을 보냅니다.</li>\n<li>Least Bandwidth : 초당 메가비트(Mbps)로 측정된, 가장적은 양의 트래픽을 처리중인 서버를 선택합니다.</li>\n<li>Round Robin : 서버들을 순환하면서 새로운 요청이 올때마다 다른 서버에 전달합니다. 서버들의 사양이 동일하고 지속적인 연결이 많지 않을때 좋습니다.</li>\n<li>Weighted Round Robin : 처리용량이 서로다른(성능차이가있는) 서버들이 있는 경우에 사용합니다. 각 서버에는 요청의 처리량을 나타내는 정수 가중치가 있고, 가중치가 높은 서버가 낮은서버보다 먼저 많은 요청을 받습니다.</li>\n<li>IP Hash : IP를 기반으로 해쉬 값 생성, 같은 값으로 해쉬를 생성함으로 하나의 웹서버와 지속 통신이 가능합니다. 하지만 부하분산이 정확히 이뤄지기 힘듭니다.</li>\n</ul>\n<h3 id=\"로드밸런싱-장애-대처\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1-%EC%9E%A5%EC%95%A0-%EB%8C%80%EC%B2%98\" aria-label=\"로드밸런싱 장애 대처 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로드밸런싱 장애 대처</h3>\n<p>로드 밸런서가 장애가 일어날수 있습니다. 이를 대처하기위해 로드밸런서를 이중화 시켜 대비할 수 있습니다.</p>\n<p>예로 active/passive의 구조로 클러스터를 구성하여 첫번째 LB가 장애가 일어날 시 대기하며 서로의 상태를 모니터링 중이던 다른 LB가\u001e인계받아 작동합니다.</p>\n<h4 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h4>\n<ul>\n<li><a href=\"https://gyoogle.dev/blog/computer-science/network/Load%20Balancing.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">깃헙레포가 브로그가 되었따</a></li>\n<li><a href=\"https://www.educative.io/courses/grokking-the-system-design-interview/3jEwl04BL7Q\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">위 블로그의 참고 문서</a></li>\n</ul>","fields":{"slug":"/posts/network/4","tagSlugs":["/tag/load-balancing/","/tag/network/"]},"frontmatter":{"date":"2021-08-02T00:00:00","description":"Load Balancing에대해 알아봤습니다.","tags":["Load Balancing","network"],"title":"Load Balancing","socialImage":{"publicURL":"/static/624cc4a835e68430a8beec01cef8ac6c/photo.jpg"}}}},"pageContext":{"slug":"/posts/network/4"}},"staticQueryHashes":["251939775","401334301","825871152"]}