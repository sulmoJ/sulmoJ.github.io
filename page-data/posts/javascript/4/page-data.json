{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/javascript/4","result":{"data":{"markdownRemark":{"id":"c8efe7c5-bc9a-505c-ae69-1a44d17c0f72","html":"<p>지금까지 단순히 화면에서 사용자의 움직임에대한 추가적인 기능을 붙이기 위함으로만 알고 사용해왔던 event에대해서 간단하게 정리합니다.</p>\n<h2 id=\"자바스크립트-이벤트\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%9D%B4%EB%B2%A4%ED%8A%B8\" aria-label=\"자바스크립트 이벤트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자바스크립트 이벤트</h2>\n<blockquote>\n<p>이벤트는 사용자의 조작에 반응해 추가적인 기능을 처리하거나 돔노드간의 정보를 제공하기도하는 많은 기능을 가진 인터페이스입니다.</p>\n</blockquote>\n<h3 id=\"이벤트종류\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8%EC%A2%85%EB%A5%98\" aria-label=\"이벤트종류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이벤트종류</h3>\n<ul>\n<li>cached : 애플리케이션이 캐시될 때</li>\n<li>load : 웹 페이지의 로드가 완료되었을 때</li>\n<li>unload : 웹 페이지가 unload 될 때 (새로운 페이지를 요청한 경우)</li>\n<li>error : 브라우저가 자바스크립트 오류를 만났거나 리소스 로드를 실패했을 때</li>\n<li>resize : 브라우저 창의 크기를 조정했을 때</li>\n<li>scroll : 사용자가 페이지를 위아래로 스크롤 할 때</li>\n<li>focus : 엘리먼트가 포커스를 받았을 때(버블링하지 않음)</li>\n<li>click : 엘리먼트를 클릭 할 때</li>\n</ul>\n<h3 id=\"이벤트-리스너\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A6%AC%EC%8A%A4%EB%84%88\" aria-label=\"이벤트 리스너 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이벤트 리스너</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">onIncreaseCountHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 이벤트 처리 로직</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> increaseButton <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#increase-btn\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nincreaseButton<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> onIncreaseCountHandler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>일단 위와같이 DOM요소에 접근하여 이벤트를 추가할 수 있다. <code class=\"language-text\">addEventListener</code>라는 Api에 이벤트 타입과 이벤트 발생시 사용할 콜백 함수를 넘겨준다.</p>\n<p><a href=\"https://developer.mozilla.org/ko/docs/Web/API/EventTarget/addEventListener\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">자세한 사용 방법</a></p>\n<h3 id=\"콜백\" style=\"position:relative;\"><a href=\"#%EC%BD%9C%EB%B0%B1\" aria-label=\"콜백 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>콜백</h3>\n<p>이벤트의 특성상 먼저 사용자의 요청이라고도 보이는 이벤트들이 발생하고 그 이후 작업이 진행되야 한다. 그래서 자바스크립트의 특성상 이렇게 비동기적으로 처리되어야 할때 콜백 함수를 작성하여 이벤트 함수의 진행이 끝난 후에 실행하도록 한다.</p>\n<p>이러한 비동기처리에 대해서 콜백을 사용하는데는 가독성이 떨어지는 한계가 있고, 이를 위한 promise객체와 async/await를 통해 더 알아보기 쉽도록 이용가능하다. 이부분은 추가적으로 정리 하겠습니다.</p>\n<p>그래서 위에 <code class=\"language-text\">addEventListener</code>를 사용할 때 <code class=\"language-text\">onIncreaseCountHandler</code>가 이벤트 발동 된 이후 실행될 수 있도록 준비한 함수로 콜백함수라 부른다.</p>\n<h3 id=\"이벤트-버블링과-캡처링\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%B2%84%EB%B8%94%EB%A7%81%EA%B3%BC-%EC%BA%A1%EC%B2%98%EB%A7%81\" aria-label=\"이벤트 버블링과 캡처링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이벤트 버블링과 캡처링</h3>\n<p>이벤트가 발생하는 순서를 이벤트 흐름(event flow)이라고 하며, 이벤트가 흐르는 방식은 다음의 두 가지가 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 938px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/77f429586332c83c7d8a2f0251dd0c74/dc333/event.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABnklEQVQoz11Ti26DMBDj//9x0rq1omMtryQFQoJnH6TrhhQlufM5vgfVtm3Ql3O2/aNr0Y8j4rKgfMIUnN3nGVvwiN0d4faNdZ6euKqQpZTM2IwDLnWNrut+iQ4ynbMbkR8BDED4uqI+n+G/G2B6QKhKZGUpsO473Nr2qboot7snGZXng9w1X3De7z4q3khaSdmrwkt7x/vphGLP3PXyFhcLElnB3s+fuF6vJiQJ690/QkbWQ49uGEyBbKkQThMSa5Xzbpc/MNXwYKqKVzlCQLWuq6koryrl0bk/hFm1ZGBiuul4XCSeDZn4UCFMTN8ILYhr4fmtvaHpe0vj6Ts6uyplBdIukokKZ9oVu4qUfktZgXOMaFgDx5HRPvG+atFnHVYAJ2B/JCPSN1ChlYsrUqkmoFJqcj7YIdXvws59sjGeKS5M8c/YUM3COZ1Zy4nne9thJmZm7SLtZN8JdzQQCLxR3UDA9jIu2zEmh1RTEvn4yn1hzTXkQtkcCuNZzIGd1TB7NiSQsGcdHc94IdPf0xMnbM9ZdYYZMbJMUqzvB+nsXGEjg3P4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/77f429586332c83c7d8a2f0251dd0c74/8ac56/event.webp 240w,\n/static/77f429586332c83c7d8a2f0251dd0c74/d3be9/event.webp 480w,\n/static/77f429586332c83c7d8a2f0251dd0c74/e5056/event.webp 938w\"\n          sizes=\"(max-width: 938px) 100vw, 938px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/77f429586332c83c7d8a2f0251dd0c74/8ff5a/event.png 240w,\n/static/77f429586332c83c7d8a2f0251dd0c74/e85cb/event.png 480w,\n/static/77f429586332c83c7d8a2f0251dd0c74/dc333/event.png 938w\"\n          sizes=\"(max-width: 938px) 100vw, 938px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/77f429586332c83c7d8a2f0251dd0c74/dc333/event.png\"\n          alt=\"event\"\n          title=\"event\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<ul>\n<li>버블링 : 자식의 이벤트 발생 정보가 document단 까지 조상 돔노드에게도 퍼짐</li>\n<li>캡처링 : 이벤트가 발생된 돔노드의 가장 높은 조상부터 자신의 돔노드까지 발생</li>\n</ul>\n<p>이렇게 이벤트가 퍼지기 때문에 아래에 나올 위임과 같은 작업이 가능하다. 그리고 이런 버블링이나 캡처링처럼 이벤트가 퍼지는걸 막고 싶을수 있는데 그럴땐 이벤트 실행 함수에서 아래와 같은 api를 사용하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">logEvent</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  event<span class=\"token punctuation\">.</span><span class=\"token function\">stopPropagation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 여기!</span>\n\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>currentTarget<span class=\"token punctuation\">.</span>className<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>작성시 이벤트의 흐름을 막아준다.</p>\n<h3 id=\"이벤트-객체\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EA%B0%9D%EC%B2%B4\" aria-label=\"이벤트 객체 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이벤트 객체</h3>\n<p>DOM에 대해 이벤트를 연결했다면 event라는 이름으로 이벤트 객체를 매개변수로 전달할 수 있으며,</p>\n<p><a href=\"https://developer.mozilla.org/ko/docs/Web/API/Event#%EB%A9%94%EC%84%9C%EB%93%9C\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">이벤트 객체</a>에는 이벤트에 대한 정보와, 이벤트를 조작하는 메서드들이 내장되어 있다.</p>\n<p>대표적인 예로 아래와 같은 기능들이 있다.</p>\n<ul>\n<li>preventDefault : 태그의 기본 동작(ex, a 태그는 클릭 시 링크이동, form 태그은 폼 내용 전송)을 하지 않게 막음</li>\n<li>stopPropagation : 이벤트가 버블링되지 않도록 함</li>\n<li>stopImmediatePropagation : 버블링을 막음과 동시에 같은 이벤트의 다른 리스너도 실행되지 않도록 함</li>\n</ul>\n<h3 id=\"이벤트-위임\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%9C%84%EC%9E%84\" aria-label=\"이벤트 위임 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이벤트 위임</h3>\n<p>이벤트 리스너를 지정하는 요소가 많으면 많을수록 페이지의 실행 속도는 느려진다. 이벤트는 target 엘리먼트를 포함하고 있는 부모 요소에도 영향을 미치기 때문에 <strong>자식 요소를 포함하는 부모 요소에 이벤트 리스너를 지정하여 관리</strong>한다.</p>\n<p>즉, 이벤트 리스너가 실행할 작업을 부모 요소에게 위임(Delegation)하는 것이 이벤트 위임이다.</p>\n<p>이러한 패턴은 아래와 같은 장점을 가진다.</p>\n<ul>\n<li>동적으로 추가되는 요소들에도 동작가능</li>\n<li>코드가 간결해짐</li>\n</ul>\n<br>\n<br>\n<h4 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h4>\n<ul>\n<li><a href=\"https://velog.io/@ljinsk3/JavaScript%EB%A1%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">블로그</a></li>\n<li><a href=\"https://ko.javascript.info/event-delegation\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">이벤트 위임</a></li>\n</ul>","fields":{"slug":"/posts/javascript/4","tagSlugs":["/tag/javascript/","/tag/event/"]},"frontmatter":{"date":"2021-08-31T01:00:00","description":"자바스크립트에서 event에대해 알아봅니다.","tags":["javascript","event"],"title":"javascript event 정리 1","socialImage":{"publicURL":"/static/624cc4a835e68430a8beec01cef8ac6c/photo.jpg"}}}},"pageContext":{"slug":"/posts/javascript/4"}},"staticQueryHashes":["251939775","401334301","825871152"]}